<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kristiania Questionnaire</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<h1>All Questions</h1>

<h3>Answer Questions:</h3>
<form action="/api/listQuestions" method="post" onsubmit="fetchQuestions()">
    <p><label>Select survey <select name="survey" id="survey1"></select></label></p>
    <button>Select</button>
</form>

<form action="/api/answerQuestions" method="post" id=questions>
    <label>UserName:</label>
    <input type="text" id="userName" name="userName"><br>
</form>



<div>
    <a href="index.html">Home</a>
</div>

</body>
<script>
    fetch("/api/listSurveyOptions").then(function(res){
        return res.text();
    }).then(function(text){
        document.getElementById("survey1").innerHTML=text;
        document.getElementById("survey2").innerHTML=text;
    });

    fetch("/api/listQuestions")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("questions").innerHTML = text;
    });

    const fetchQuestions = function () {
        setTimeout(function(){window.location.reload();},10);
    }
</script>
</html>