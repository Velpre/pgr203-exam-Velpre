<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kristiania Questionnaire</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <main>
        <h1>Surveys</h1>
        <div class = "container">
            <h3>Answer Surveys:</h3>
            <form action="/api/listQuestions" method="post" onsubmit="fetchQuestions()">
                <p><label>Select survey <select name="survey" id="survey1"></select></label></p>
                <button>Select</button>
            </form>
        </div>
        <div class ="container">
            <h3>Choose or create user before answering</h3>
            <form action="/api/answerQuestions" method="post" id=questions>
            </form>
        </div>

        <button><a href="index.html">Home</a></button>
    </main>
</body>
<script>
    fetch("/api/listSurveyOptions").then(function(res){
        return res.text();
    }).then(function(text){
        document.getElementById("survey1").innerHTML=text;
    });

    fetch("/api/listQuestions")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("questions").innerHTML = text;
    });



    fetch("/api/listUsers")
        .then(function(response) {
            return response.text();
        }).then(function(text) {
        document.getElementById("existingUsers").innerHTML = text;
    });


    const fetchQuestions = function () {
        setTimeout(function(){window.location.reload();},10);
    }
</script>
</html>