<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Surveys</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<main>
    <h1>Edit Survey</h1>
    <div class = "container">
        <h3>Add survey</h3>
        <form action="/api/newSurvey" method="post" onsubmit="fetchQuestions()">
            <p><label>Add survey name: <input required type="text" name="title"></label></p>
            <button>Add</button>
        </form>
    </div>

    <div class = "container">
        <h3>Delete</h3>
        <form action="/api/deleteSurvey" method="post" onsubmit="fetchQuestions()" >
            <p><label>Select survey <select required name="survey" id="survey1"></select></label></p>
            <button>Delete</button>
        </form>
    </div>

    <div class = "container">
        <h3>Add question</h3>
        <form action="/api/newQuestion" method="post" >
            <p><label>Choose survey <select name="survey" id="survey2"></select></label></p>
            <p><label>Add question: <input required type="text" name="title"></label></p>
            <p><label>Add option 1: <input required type="text" name="option1"></label></p>
            <p><label>Add option 2: <input required type="text" name="option2"></label></p>
            <p><label>Add option 3: <input required type="text" name="option3"></label></p>
            <button>Add</button>
        </form>

    </div>


    <button><a href="index.html">Home</a></button>

</main>
<script>


    const fetchQuestions = function () {
        setTimeout(function(){window.location.reload();},10);
    }



    fetch("/api/listSurveyOptions").then(function(res){
        return res.text();
    }).then(function(text){
        document.getElementById("survey1").innerHTML=text;
        document.getElementById("survey2").innerHTML=text;
    });


</script>
</body>

</html>